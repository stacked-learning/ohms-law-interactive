:root {
    --color-voltage: #5c5cff;
    /* Blueish */
    --color-current: #ff3333;
    /* Redish */
    --color-resistance: #000000;
    /* Black */
    --bg-color: #F5F5F5;
    /* Light gray background */
}

body {
    font-family: 'Barlow', sans-serif;
    background-color: var(--bg-color);
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    min-height: 100vh;
    height: auto;
    overflow-y: auto;
    overflow-x: hidden;
}

.app-header {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    width: 100%;
    padding: 5px 20px;
    /* Reduced padding */
    box-sizing: border-box;
    background-color: var(--bg-color);
    z-index: 10;
}

.app-logo {
    height: 50px;
    object-fit: contain;
}

.app-title {
    font-size: 24px;
    font-weight: bold;
    margin: 0;
    color: #333;
    text-align: center;
}

.main-container {
    display: flex;
    flex-direction: row;
    /* Side by side */
    align-items: stretch;
    /* Full height */
    width: 100%;
    /* Full width */
    flex: 1;
    /* Fill remaining height */
    overflow: hidden;
    /* Prevent scrolling */
    position: relative;
    margin: 0;
}

.left-panel {
    flex: 3;
    display: flex;
    flex-direction: column;
    padding: 10px;
    box-sizing: border-box;
}

.right-panel {
    flex: 1;
    display: flex;
    flex-direction: column;
    background-color: #eee;
    border-left: 1px solid #ccc;
    padding: 20px;
    box-sizing: border-box;
    align-items: center;
    /* Center content */
}

/* Equation Display */
.equation-container {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    /* Align left */
    margin-bottom: 5px;
    /* Reduced margin */
    height: clamp(140px, 22vh, 220px);
    /* Dynamic height to leave more room for the circuit on shorter screens */
    padding-left: 30px;
    /* Reduced padding */
    width: 100%;
    /* Force full width to allow left alignment */
    flex-shrink: 0;
    /* Don't shrink */
}

.equation-part {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 20px;
    min-width: 80px;
}

.equation-equals {
    font-size: 120px;
    /* Larger equals sign */
    font-weight: bold;
    color: #333;
}

.variable {
    font-weight: bold;
    transition: font-size 0.1s ease-out;
}

.voltage {
    color: var(--color-voltage);
}

.current {
    color: var(--color-current);
}

.resistance {
    color: var(--color-resistance);
}

/* Triangle View */
.triangle-container {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    /* Align left */
    margin-bottom: 5px;
    /* Reduced margin */
    height: clamp(140px, 22vh, 220px);
    /* Match equation height */
    padding-left: 30px;
    /* Reduced padding */
    width: 100%;
    /* Force full width */
    flex-shrink: 0;
}

.ohm-triangle {
    height: 100%;
    overflow: visible;
}

.ohm-triangle text {
    font-family: 'Barlow', sans-serif;
    font-weight: bold;
    /* Font size will be set by JS */
}

/* Toggle Button */
.view-toggle-container {
    margin-bottom: 20px;
    /* Add space below button in sidebar */
    flex-shrink: 0;
    width: 100%;
    display: flex;
    justify-content: center;
}

.btn {
    background-color: #333;
    color: white;
    border: none;
    padding: 10px 20px;
    /* Slightly larger button */
    border-radius: 4px;
    cursor: pointer;
    font-family: 'Barlow', sans-serif;
    font-size: 14px;
    transition: background-color 0.2s;
    width: 100%;
    /* Full width button */
}

.btn:hover {
    background-color: #555;
}

.hidden {
    display: none !important;
}

/* Simulation Area */
/* Simulation Area */
.simulation-area {
    display: none;
    /* Removed/Redundant in new layout */
}

.circuit-container {
    flex: 1 1 380px;
    /* Fill remaining vertical space in left panel */
    position: relative;
    border: 4px solid #1a5c1a;
    /* Darker green border */
    background-color: #0b3d0b;
    /* Dark Green PCB color */
    /* Subtle grid pattern for PCB look */
    background-image: linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
    background-size: 20px 20px;
    border-radius: 10px;
    margin-right: 0;
    /* No margin needed */
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
    width: 100%;
    min-height: 380px;
}

#circuit-svg {
    width: 100%;
    height: 100%;
}

.wire {
    stroke-linecap: square;
    stroke-linejoin: round;
}

.circuit-label {
    position: absolute;
    font-size: 18px;
    font-weight: bold;
    background: rgba(255, 255, 255, 0.8);
    padding: 2px 5px;
    border-radius: 4px;
}

.voltage-value {
    color: var(--color-voltage);
    font-family: 'Barlow', sans-serif;
    font-size: 26px;
}

.resistance-value {
    color: var(--color-resistance);
    font-family: 'Barlow', sans-serif;
    font-size: 26px;
}

.current-value {
    color: #222;
    font-size: 52px;
    font-family: 'Barlow', sans-serif;
}

.current-label,
.current-unit {
    color: var(--color-current);
    font-weight: bold;
}

/* Controls */
/* Controls */
.controls-container {
    display: flex;
    justify-content: space-around;
    align-items: center;
    height: 100%;
    /* Fill right panel */
    width: 100%;
    flex: 1;
    /* Take remaining space */
    z-index: 100;
    /* Ensure on top */
}

.control-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100%;
    /* Full height */
    flex: 1;
}

.control-label {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 20px;
    flex-shrink: 0;
}

.slider-wrapper {
    height: 100%;
    width: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Custom JS Slider Styling */
.custom-slider-container {
    position: relative;
    width: 50px;
    height: calc(100% - 60px);
    /* Fill remaining height minus label */
    margin: 0 auto;
    cursor: pointer;
    /* Prevent selection during drag */
    user-select: none;
    -webkit-user-select: none;
    touch-action: none;
    /* Prevent scrolling on touch devices while dragging */
}

.slider-track {
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 8px;
    background: #ddd;
    border: 1px solid #999;
    border-radius: 4px;
    transform: translateX(-50%);
}

.slider-thumb {
    position: absolute;
    left: 50%;
    /* Bottom will be set by JS */
    width: 40px;
    height: 20px;
    background: #f0f0f0;
    border: 1px solid #666;
    border-radius: 4px;
    transform: translateX(-50%);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    cursor: grab;
    /* Grip lines */
    background-image: linear-gradient(to bottom,
            transparent 30%,
            #ccc 30%, #ccc 35%,
            transparent 35%, transparent 45%,
            #ccc 45%, #ccc 50%,
            transparent 50%, transparent 60%,
            #ccc 60%, #ccc 65%,
            transparent 65%);
}

.slider-thumb:active {
    cursor: grabbing;
    background-color: #e0e0e0;
}

/* Battery Styling */
.battery-plate {
    fill: #333;
}

.battery-terminal {
    fill: #666;
}

/* Resistor Dots */
.resistor-dot {
    fill: black;
}

/* Current Arrow */
.current-arrow {
    fill: var(--color-current);
}

.circuit-label {
    font-family: 'Courier New', Courier, monospace;
    /* Monospace for silkscreen look */
    font-size: 18px;
    font-weight: bold;
    fill: rgba(255, 255, 255, 0.9);
    /* White text */
    text-shadow: 1px 1px 2px black;
    /* Note: text-shadow doesn't work on SVG text in all browsers, but filter might. Keeping for now as it might work in some contexts or if we switch back. For SVG, usually need a filter. */
    pointer-events: none;
    /* Let clicks pass through */
}

.voltage-value {
    fill: #ff6b6b;
    /* Brighter red for voltage */
}

.resistance-value {
    fill: #4ecdc4;
    /* Brighter teal/blue for resistance */
}

.current-value {
    fill: #ffe66d;
    /* Brighter yellow for current */
}

/* Override silkscreen styles for the HTML-based current readout */
.circuit-container .current-value {
    font-family: 'Barlow', sans-serif;
    font-size: 52px;
    color: #222;
    background: rgba(255, 255, 255, 0.85);
    padding: 4px 8px;
    border-radius: 6px;
}

.circuit-container .current-label,
.circuit-container .current-unit {
    color: var(--color-current);
    font-weight: 800;
}

/* Ensure voltage/resistance labels use Barlow and larger size (override SVG/text defaults) */
.circuit-container .voltage-value,
.circuit-container .resistance-value {
    font-family: 'Barlow', sans-serif !important;
    font-size: 26px !important;
    color: inherit;
}
